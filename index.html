<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport"
  content="width=device-width,
           initial-scale=1.0,
           maximum-scale=1.0,
           user-scalable=no,
           viewport-fit=cover">

<title>Dice Game</title>
<script src="https://telegram.org/js/telegram-web-app.js"></script>

<style>
html, body {
  margin: 0;
  padding: 0;
  background: #0b1220;
  color: #fff;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

/* ğŸ”¥ å…³é”®ï¼šå…¨å±ï¼Œä¸é™å®½ */
#app {
  min-height: 100vh;
  padding: 20px 14px env(safe-area-inset-bottom);
  box-sizing: border-box;
  text-align: center;
}

/* æ ‡é¢˜ */
h1 {
  font-size: 22px;
  margin: 10px 0 6px;
}

#balance {
  opacity: .85;
  margin-bottom: 14px;
}

/* ä¸‹æ³¨ */
.bet-grid {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 8px;
}

.bet {
  background: #22c55e;
  color: #000;
  padding: 10px 0;
  border-radius: 8px;
  font-weight: 600;
}

.bet.custom {
  background: #facc15;
}

/* Roll */
#roll {
  margin: 16px auto;
  width: 100%;
  max-width: 320px;
  padding: 14px;
  background: #38bdf8;
  color: #000;
  border-radius: 12px;
  font-size: 16px;
  font-weight: 700;
}

/* ğŸ² éª°å­åŒº */
.dice-area {
  margin-top: 26px;
  display: flex;
  justify-content: center;
  gap: 36px;
  min-height: 120px;
}

/* ğŸ² Telegram é£æ ¼éª°å­ */
.dice {
  width: 96px;
  height: 96px;
  background: #f1f5f9;
  border-radius: 18px;
  display: grid;
  place-items: center;
  box-shadow:
    0 18px 30px rgba(0,0,0,.45),
    inset 0 -6px 12px rgba(0,0,0,.12);
  transform: scale(0);
}

/* ç‚¹ */
.dot {
  width: 10px;
  height: 10px;
  background: #111;
  border-radius: 50%;
}

/* ç‚¹ä½å¸ƒå±€ */
.face {
  width: 100%;
  height: 100%;
  display: grid;
  grid-template-columns: repeat(3,1fr);
  grid-template-rows: repeat(3,1fr);
  padding: 18px;
}

/* ğŸ¯ åŠ¨ç”»ï¼ˆé«˜ä»¿ Telegramï¼‰ */
.show {
  animation: drop 0.65s cubic-bezier(.17,.89,.32,1.49) forwards;
}

@keyframes drop {
  0%   { transform: scale(0) rotate(-90deg); opacity: 0; }
  60%  { transform: scale(1.15) rotate(10deg); opacity: 1; }
  100% { transform: scale(1) rotate(0deg); }
}

#result {
  margin-top: 16px;
  font-size: 15px;
  white-space: pre-line;
}
</style>
</head>

<body>
<div id="app">

<h1 id="title"></h1>
<div id="balance"></div>

<div class="bet-grid" id="bets"></div>

<div id="roll">ğŸ² Roll</div>

<div class="dice-area">
  <div id="player"></div>
  <div id="banker"></div>
</div>

<div id="result"></div>

</div>

<script>
const tg = Telegram.WebApp;
tg.ready(); tg.expand();

/* ğŸŒ ä¸‰è¯­ */
const I18N = {
  zh:{title:"ğŸ² éª°å­æ¸¸æˆï¼ˆæ¯”å¤§å°ï¼‰",balance:"ä½™é¢",bet:"å·²ä¸‹æ³¨",rollFirst:"è¯·å…ˆä¸‹æ³¨",win:"ğŸ† ç©å®¶èƒœåˆ©",lose:"âŒ ç©å®¶å¤±è´¥",draw:"ğŸ¤ å¹³å±€"},
  en:{title:"ğŸ² Dice Game (Big / Small)",balance:"Balance",bet:"Bet placed",rollFirst:"Place bet first",win:"ğŸ† You Win",lose:"âŒ You Lose",draw:"ğŸ¤ Draw"},
  ms:{title:"ğŸ² Permainan Dadu",balance:"Baki",bet:"Pertaruhan diterima",rollFirst:"Sila buat pertaruhan",win:"ğŸ† Menang",lose:"âŒ Kalah",draw:"ğŸ¤ Seri"}
};

const lang = (tg.initDataUnsafe?.user?.language_code || "en").startsWith("zh")?"zh":
             (tg.initDataUnsafe?.user?.language_code || "").startsWith("ms")?"ms":"en";
const T = I18N[lang];

let balance = 1000;
let bet = 0;

document.getElementById("title").innerText = T.title;
updateBalance();

/* ä¸‹æ³¨æŒ‰é’® */
const values=[1,2,5,10,15,30,50,100,150,300,500];
const bets=document.getElementById("bets");
values.forEach(v=>{
  const b=document.createElement("div");
  b.className="bet";
  b.innerText=v;
  b.onclick=()=>{bet=v;result(`${T.bet}: ${v}`)};
  bets.appendChild(b);
});
const c=document.createElement("div");
c.className="bet custom";c.innerText="âœï¸";
c.onclick=()=>{const v=prompt("Amount");if(v)bet=+v};
bets.appendChild(c);

document.getElementById("roll").onclick=async()=>{
  if(!bet){result(T.rollFirst);return;}
  const p=r(), b=r();
  show("player",p); await wait(600);
  show("banker",b); await wait(300);

  let res;
  if(p>b){balance+=bet;res=T.win;}
  else if(p<b){balance-=bet;res=T.lose;}
  else res=T.draw;

  bet=0; updateBalance();
  result(`ğŸ² ç©å®¶: ${p}\nğŸ² åº„å®¶: ${b}\n\n${res}`);
};

function r(){return Math.floor(Math.random()*6)+1;}
function updateBalance(){document.getElementById("balance").innerText=`${T.balance}: ${balance}`;}
function result(t){document.getElementById("result").innerText=t;}
function wait(ms){return new Promise(r=>setTimeout(r,ms));}

/* ğŸ² ç”Ÿæˆéª°å­ */
function show(id,n){
  const d=document.getElementById(id);
  d.innerHTML="";
  const box=document.createElement("div");
  box.className="dice show";
  const face=document.createElement("div");
  face.className="face";
  const map={
    1:[4],2:[0,8],3:[0,4,8],4:[0,2,6,8],
    5:[0,2,4,6,8],6:[0,2,3,5,6,8]
  };
  for(let i=0;i<9;i++){
    const s=document.createElement("div");
    if(map[n].includes(i)){s.className="dot";}
    face.appendChild(s);
  }
  box.appendChild(face);
  d.appendChild(box);
}
</script>
</body>
</html>




